<?phpnamespace Corso\Http\Controllers;use Corso\Http\Requests;use Corso\Http\Controllers\Controller;use Corso\Repositories\ProductRepository;use Illuminate\Http\Request;use Corso\models\Record;use Illuminate\Support\Facades\DB;class ProductsController extends Controller {    /**     * @var ProductRepository     */    private $productRepository;    public function __construct(ProductRepository $productRepository)    {        $this->productRepository = $productRepository;    }    public function getProduct($name) {        $separador = explode('-', ($name));        $numero = count($separador);        switch ($numero):            case 1:               $nameProduct = ucwords($separador[0]) ;                break;            case 2:                $nameProduct = ucwords($separador[0]) . ' ' . ucwords($separador[1]) ;                break;            case 3:                $nameProduct = ucwords($separador[0]) . ' ' . ucwords($separador[1]) . '-' . $separador[2];                break;            case 4:                $nameProduct = ucwords($separador[0]) . ' ' . ucwords($separador[1]) . '-' . $separador[2] . ' '.$separador[3];                break;            case ($numero >4):               $nameProduct = '';                break;        endswitch;         $product = $this->productRepository->whereData('name', $nameProduct,'name');        $inicioRecord = DB::table('records')->where('product_id','=',$product[0]->id)->min('month').'/'.DB::table('records')->where('product_id','=',$product[0]->id)->min('year');       $finalRecord = DB::table('records')->where('product_id','=',$product[0]->id)->max('month').'/'.DB::table('records')->where('product_id','=',$product[0]->id)->max('year');        return view('claro.product', compact('product','inicioRecord','finalRecord'));    }}